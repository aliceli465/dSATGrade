<!DOCTYPE html>
<html>
<head>
    <title>DSAT Grading</title>
    <link rel="stylesheet" href="css/main.css">
    <script src="js/bb1/math.js"></script><script src="js/bb1/mathEasy.js"></script><script src="js/bb1/mathHard.js"></script><script src="js/bb1/rw.js"></script><script src="js/bb1/rwEasy.js"></script><script src="js/bb1/rwHard.js"></script>
    <script src="js/bb2/math.js"></script><script src="js/bb2/mathEasy.js"></script><script src="js/bb2/mathHard.js"></script><script src="js/bb2/rw.js"></script><script src="js/bb2/rwEasy.js"></script><script src="js/bb2/rwHard.js"></script>
    <script src="js/bb3/math.js"></script><script src="js/bb3/mathEasy.js"></script><script src="js/bb3/mathHard.js"></script><script src="js/bb3/rw.js"></script><script src="js/bb3/rwEasy.js"></script><script src="js/bb3/rwHard.js"></script>
    <script src="js/bb4/math.js"></script><script src="js/bb4/mathEasy.js"></script><script src="js/bb4/mathHard.js"></script><script src="js/bb4/rw.js"></script><script src="js/bb4/rwEasy.js"></script><script src="js/bb4/rwHard.js"></script>
    <script src="js/bb5/math.js"></script><script src="js/bb5/mathEasy.js"></script><script src="js/bb5/mathHard.js"></script><script src="js/bb5/rw.js"></script><script src="js/bb5/rwEasy.js"></script><script src="js/bb5/rwHard.js"></script>
    <script src="js/bb6/math.js"></script><script src="js/bb6/mathEasy.js"></script><script src="js/bb6/mathHard.js"></script><script src="js/bb6/rw.js"></script><script src="js/bb6/rwEasy.js"></script><script src="js/bb6/rwHard.js"></script>
    <script src="js/bb7/math.js"></script><script src="js/bb7/mathEasy.js"></script><script src="js/bb7/mathHard.js"></script><script src="js/bb7/rw.js"></script><script src="js/bb7/rwEasy.js"></script><script src="js/bb7/rwHard.js"></script>
    <script src="js/bb8/math.js"></script><script src="js/bb8/mathEasy.js"></script><script src="js/bb8/mathHard.js"></script><script src="js/bb8/rw.js"></script><script src="js/bb8/rwEasy.js"></script><script src="js/bb8/rwHard.js"></script>
    <script src="js/bb9/math.js"></script><script src="js/bb9/mathEasy.js"></script><script src="js/bb9/mathHard.js"></script><script src="js/bb9/rw.js"></script><script src="js/bb9/rwEasy.js"></script><script src="js/bb9/rwHard.js"></script>
    <script src="js/bb10/math.js"></script><script src="js/bb10/mathEasy.js"></script><script src="js/bb10/mathHard.js"></script><script src="js/bb10/rw.js"></script><script src="js/bb10/rwEasy.js"></script><script src="js/bb10/rwHard.js"></script>
    <script src="stuff/jquery/dist/jquery.min.js"></script>
    <script src="stuff/mustache/mustache.min.js"></script>
    <script src="js/helpers.js"></script>
</head>
<body>
    <form id="gradeForm">
        <div style="display:flex;">
            <div style="padding-right: 100px;"> 
                <h3>Paste your student answers here:</h1>
                <textarea type="text" id="answers" name="textValue" style="width: 300px; height:600px;"></textarea>
            </div>
            <div style="margin-top:50px;"> 
                <label for="testNumber">Select test</label>
                <br>
                <select id="testNumber" required>
                    <option value="" selected disabled>Select an option</option>
                    <option value="4">Bluebook Test 4</option>
                    <option value="5">Bluebook Test 5</option>
                    <option value="6">Bluebook Test 6</option>
                    <option value="7">Bluebook Test 7</option>
                    <option value="8">Bluebook Test 8</option>
                    <option value="9">Bluebook Test 9</option>
                    <option value="9">Bluebook Test 10</option>
                </select>
                <br><br>
                <label for="rwEH">Select easy/hard for RW module 2</label>
                <br>
                <select id="rwEH" required>
                    <option value="" selected disabled>Select an option</option>
                    <option value="Easy">Easy</option>
                    <option value="Hard">Hard</option>
                </select>
                <br><br>
                <label for="mathEH">Select easy/hard for math module 2</label>
                <br>
                <select id="mathEH" required>
                    <option value="" selected disabled>Select an option</option>
                    <option value="Easy">Easy</option>
                    <option value="Hard">Hard</option>
                </select>
                <br><br>
                <input type="submit" value="Grade!" class="cute-button">
            </div>
        </div>


    </form>
    <script>
       function submitForm(event) {
            event.preventDefault(); // Prevents the default form submission behavior
            console.log(document.getElementById('answers').value);
            gradeTest();
        }
        document.getElementById('gradeForm').addEventListener('submit', submitForm);
    </script>

    <!--<img class="math-crop-frq" src="images/bb1/math/nc15.png">-->
    <!--<img class="math-crop2" src="images/bb4/math/nc15.2.png"> -->
    <!--select screen-->
    <div id="selectPDF" style="display:none;">
        <h2>Select which PDF you would like to view</h2>
        <button class="cute-button" onclick="entireAnswer()">Entire test with answers</button>
        <button class="cute-button" onclick="incorrectNoAnswer()">Incorrect only w/o answer key</button>
        <button class="cute-button" onclick="incorrectWithAnswer()">Incorrect only with answer key</button>
        <button class="cute-button" onclick="mathNoAnswer()">Math only w/o answer key</button>
        <script>
            //Entire test with answers:  #rwE, #mathE
            //Incorrect only w/o answer key: #rwINA, #mathINA
            //Incorrect only with answer key:  #rwIA, #mathIA
            function entireAnswer() {
                console.log("setting entire test with answers");
                loadResults("rwE", "mathE");
            }
            function incorrectNoAnswer() {
                console.log("setting incorrect w/o answers");
                loadResults("rwINA", "mathINA");
            }
            function incorrectWithAnswer() {
                console.log("setting incorrect with answers");
                loadResults("rwIA", "mathIA");
            }
            function mathNoAnswer() {
                console.log("setting math without answers");
                loadMathOnly("mathINA");
            }
        </script>
    </div>
    <!--results-->
    <div id="results" style="display:none;">
        <h1 id="resultType"></h1>
        <h3>Press ctrl + p to export this page as a PDF and to use during the lesson!</h3>
        <p>*IMPORTANT* Once you're done and YOU HAVE YOUR PDFs SAVED, click this button to clear your session data!</p>
        <button style="width:100px; height:50px;"onclick="clearStorage()">Clear session</button>
        <script>
            function clearStorage() {
                localStorage.clear();
                console.log("local storage cleared!");
                window.location.href = "yay.html";
            }
        </script>
        <h2>Jump to section:</h2>
        <ul>
            <li><a href="#rw_results">Reading/Writing 1</a></li>
            <li><a href="#rw2_results">Reading/Writing 2</a></li>
            <li><a href="#math_results">Math 1</a></li>
            <li><a href="#math2_results">Math 2</a></li>
        </ul>
        <div id="rw_results">
        
        </div>
        <div id="rw2_results">

        </div>
        <div id="math_results">
            
        </div>
        <div id="math2_results">
            
        </div>
    </div>


    <!--mustache scripts-->

    <!--no answers incorrect-->
    <script type="text/x-mustache" id="rwINA">
        {{#questions}}
            {{^isCorrect}}
                <figure style="display: inline-block; margin-left: 100px;">
                    <figcaption><span style="background-color:rgb(240, 103, 121)">{{question}})</span></figcaption>
                    {{#images}}
                        <img src="{{.}}" class="rw-crop">
                    {{/images}}
                    {{#selected-answer}}
                        <p>You put {{selected-answer}}</p>
                    {{/selected-answer}}
                    {{^selected-answer}}
                        <p>You left this empty</p>
                    {{/selected-answer}}
                </figure>
            {{/isCorrect}}
        {{/questions}}
    </script>
    <script type="text/x-mustache" id="mathINA">
        {{#questions}}
            {{^isCorrect}}
                <figure style="display: inline-block; margin-left: 50px;">
                    <figcaption style="padding-bottom: 50px;"><span style="background-color:rgb(240, 103, 121)">{{question}})</span></figcaption>
                    {{#images}}
                        {{#isMcq}}
                            <img src="{{.}}" class="math-crop">
                        {{/isMcq}}
                        {{^isMcq}}
                            <img src="{{.}}" class="math-crop-frq">
                        {{/isMcq}}
                    {{/images}}
                    {{#selected-answer}}
                        <p>You put {{selected-answer}}</p>
                    {{/selected-answer}}
                    {{^selected-answer}}
                        <p>You left this empty</p>
                    {{/selected-answer}}
                </figure>
            {{/isCorrect}}
        {{/questions}}
    </script>

    <!--incorrect only with answer-->
    <script type="text/x-mustache" id="rwIA">
        {{#questions}}
            {{^isCorrect}}
                <figure style="display: inline-block; margin-left: 100px;">
                    <figcaption><span style="background-color:rgb(240, 103, 121)">{{question}})</span></figcaption>
                    {{#images}}
                        <img src="{{.}}" class="rw-crop">
                    {{/images}}
                    {{#selected-answer}}
                        <p>You put {{selected-answer}}</p>
                    {{/selected-answer}}
                    {{^selected-answer}}
                        <p>You left this empty</p>
                    {{/selected-answer}}
                    <p>The correct answer is {{actual-answer}}</p>
                </figure>
            {{/isCorrect}}
        {{/questions}}
    </script>
    <script type="text/x-mustache" id="mathIA">
        {{#questions}}
            {{^isCorrect}}
                <figure style="display: inline-block; margin-left: 50px;">
                    <figcaption style="padding-bottom: 50px;"><span style="background-color:rgb(240, 103, 121)">{{question}})</span></figcaption>
                    {{#images}}
                        {{#isMcq}}
                            <img src="{{.}}" class="math-crop">
                        {{/isMcq}}
                        {{^isMcq}}
                            <img src="{{.}}" class="math-crop-frq">
                        {{/isMcq}}
                    {{/images}}
                    {{#selected-answer}}
                        <p>You put {{selected-answer}}</p>
                    {{/selected-answer}}
                    {{^selected-answer}}
                        <p>You left this empty</p>
                    {{/selected-answer}}
                    {{#isMcq}}
                        <p>The correct answer is {{actual-answer}}</p>
                    {{/isMcq}}
                    {{^isMcq}}
                        <p>Accepted answers are: {{#actual-answer}}{{.}}{{/actual-answer}}</p>
                    {{/isMcq}}
                </figure>
            {{/isCorrect}}
        {{/questions}}
    </script>

    <!--entire with answer-->
    <script type="text/x-mustache" id="rwE">
        {{#questions}}
            {{#isCorrect}}
                <figure style="display: inline-block; margin-left: 100px;">
                    <figcaption><span style="background-color:rgb(105, 240, 103)">{{question}})</span></figcaption>
                    {{#images}}
                        <img src="{{.}}" class="rw-crop">
                    {{/images}}
                    {{#selected-answer}}
                        <p>You put {{selected-answer}}</p>
                    {{/selected-answer}}
                    {{^selected-answer}}
                        <p>You left this empty</p>
                    {{/selected-answer}}
                </figure>
            {{/isCorrect}}
            {{^isCorrect}}
                <figure style="display: inline-block; margin-left: 100px;">
                    <figcaption><span style="background-color:rgb(240, 103, 121)">{{question}})</span></figcaption>
                    {{#images}}
                        <img src="{{.}}" class="rw-crop">
                    {{/images}}
                    {{#selected-answer}}
                        <p>You put {{selected-answer}}</p>
                    {{/selected-answer}}
                    {{^selected-answer}}
                        <p>You left this empty</p>
                    {{/selected-answer}}
                    <p>The correct answer is {{actual-answer}}</p>
                </figure>
            {{/isCorrect}}
        {{/questions}}
    </script>
    <script type="text/x-mustache" id="mathE">
        {{#questions}}
            {{#isCorrect}}
                <figure style="display: inline-block; margin-left: 50px;">
                    <figcaption style="padding-bottom: 50px;"><span style="background-color:rgb(105, 240, 103)">{{question}})</span></figcaption>
                    {{#images}}
                        {{#isMcq}}
                            <img src="{{.}}" class="math-crop">
                        {{/isMcq}}
                        {{^isMcq}}
                            <img src="{{.}}" class="math-crop-frq">
                        {{/isMcq}}
                    {{/images}}
                    {{#selected-answer}}
                        <p>You put {{selected-answer}}</p>
                    {{/selected-answer}}
                    {{^selected-answer}}
                        <p>You left this empty</p>
                    {{/selected-answer}}
                </figure>
            {{/isCorrect}}
            {{^isCorrect}}
                <figure style="display: inline-block; margin-left: 50px;">
                    <figcaption style="padding-bottom: 50px;"><span style="background-color:rgb(240, 103, 121)">{{question}})</span></figcaption>
                    {{#images}}
                        {{#isMcq}}
                            <img src="{{.}}" class="math-crop">
                        {{/isMcq}}
                        {{^isMcq}}
                            <img src="{{.}}" class="math-crop-frq">
                        {{/isMcq}}
                    {{/images}}
                    {{#selected-answer}}
                        <p>You put {{selected-answer}}</p>
                    {{/selected-answer}}
                    {{^selected-answer}}
                        <p>You left this empty</p>
                    {{/selected-answer}}
                    {{#isMcq}}
                        <p>The correct answer is {{actual-answer}}</p>
                    {{/isMcq}}
                    {{^isMcq}}
                        <p>Accepted answers are: {{#actual-answer}}{{.}}{{/actual-answer}}</p>
                    {{/isMcq}}
                </figure>
            {{/isCorrect}}
        {{/questions}}
    </script>
</body>
</html>
